<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Festinha</title>
</head>

<body>
  <header class="header">
    <h1>Convidados da festinha</h1>
  </header>

  <main class="content">
    <div class="card">
      <h2>Camarote</h2>
      <ul class="listaConvidados" id="listaCamarote">
      </ul>
    </div>

    <div class="card">
      <h2>Arquibancada</h2>
      <ul class="listaConvidados" id="listaArquibancada">
      </ul>
    </div>

    <div class="card">
      <h2>Pista</h2>
      <ul class="listaConvidados" id="listaPista">
      </ul>
    </div>

  </main>
  <script>
    const daniela = { nome: "Daniela", sobrenome: "Arbex", setor: "camarote", idade: 19 };
    const sun = { nome: "Sun", sobrenome: "Tzu", setor: "camarote", idade: 199 };
    const fred = { nome: "Fred", sobrenome: "Melo Paiva", setor: "pista", idade: 22 };
    const fernando = { nome: "Fernando", sobrenome: "Morais", setor: "pista", idade: 17 };
    const raquel = { nome: "Raquel", sobrenome: "Rolnik", setor: "arquibancada", idade: 16 };
    const inio = { nome: "Inio", sobrenome: "Asano", setor: "arquibancada", idade: 33 };

    const listaDeConvidados = [ daniela, sun, fred, fernando, raquel, inio ];

    function liberarBebidas(lista) {
      const resultado = lista.map((convidado) => {
        convidado.openBar = false;
        if (convidado.idade >= 18) {
          convidado.openBar = true;
        }
        return convidado;
      });
      return resultado;
    }

    const separarCamarote = (lista) => {
      const resultado = lista.filter((convidado) => {
        if (convidado.setor === "camarote") {
          return true;
        } else {
          return false;
        }
      });
      return resultado;
    };

    const separarPista = (lista) => {
      return lista.filter((convidado) => {
        return convidado.setor === "pista" ? true : false;
      });
    };

    const separarArquibancada = (lista) => {
      return lista.filter((convidado) => convidado.setor === "arquibancada");
    };

    const convidadosComBebidasProcessada = liberarBebidas(listaDeConvidados);

    const listaArquibancada = separarArquibancada(convidadosComBebidasProcessada);
    const listaCamarote = separarCamarote(convidadosComBebidasProcessada);
    const listaPista = separarPista(convidadosComBebidasProcessada);

    const ulArquibancadaEl = document.getElementById("listaArquibancada");
    const ulPistaEl = document.getElementById("listaPista");
    const ulCamaroteEl = document.getElementById("listaCamarote");

    const montaNome = (objPessoa) => {
      return `${objPessoa.nome} ${objPessoa.sobrenome}`;
    };

    const marcarOpenBar = (convidado) => {
      return convidado.openBar ? "🍺" : "🚫";
    };

    listaArquibancada.forEach((convidado) => {
      ulArquibancadaEl.innerHTML += `<li>${montaNome(convidado)} ${marcarOpenBar(convidado)}</li>`; //prettier-ignore
    });

    listaCamarote.forEach((convidado) => {
      ulCamaroteEl.innerHTML += `<li>${montaNome(convidado)} ${marcarOpenBar(convidado)}</li>`; //prettier-ignore
    });

    listaPista.forEach((convidado) => {
      ulPistaEl.innerHTML += `<li>${montaNome(convidado)} ${marcarOpenBar(convidado)}</li>`; // prettier-ignore
    });
  </script>
</body>

</html>